@import "tailwindcss";
@import "tw-animate-css";
@import "shadcn/tailwind.css";

@custom-variant dark (&:is(.dark *));

/*
 * ============================================================================
 * @theme inline - Maps CSS variables to Tailwind utilities
 * ============================================================================
 *
 * This section enables Tailwind utility classes from CSS custom properties.
 * Example: --color-primary â†’ enables bg-primary, text-primary, border-primary
 * See :root and .dark sections below for actual color values and usage docs.
 *
 */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);

  /* Focus ring colors */
  --color-focus: var(--focus-ring-color);
  --color-focus-offset: var(--focus-ring-color);
}

/*
 * ============================================================================
 * SEMANTIC COLOR SYSTEM - LIGHT MODE
 * ============================================================================
 *
 * Pattern: Each color has a background + foreground pair for proper contrast.
 * Format: OKLCH (Lightness Chroma Hue) - perceptually uniform color space
 *
 */
:root {
  /* ===== BASE COLORS ===== */
  /* Used by: body, main containers */
  --background: oklch(1 0 0);              /* White - main page background */
  --foreground: oklch(0.145 0 0);          /* Near-black - main text color, link buttons */

  /* ===== CARD COLORS ===== */
  /* Used by: Card component */
  --card: oklch(1 0 0);                    /* White - card backgrounds */
  --card-foreground: oklch(0.145 0 0);     /* Near-black - text on cards */

  /* ===== POPOVER COLORS ===== */
  /* Used by: Popover, Dropdown, Select content, Combobox dropdown */
  --popover: oklch(1 0 0);                 /* White - dropdown/popover background */
  --popover-foreground: oklch(0.145 0 0);  /* Near-black - text in dropdowns */

  /* ===== PRIMARY COLORS (Yellow) ===== */
  /* Used by: Default button background, default button hover */
  --primary: oklch(0.852 0.199 91.936);         /* Light yellow - primary button bg */
  --primary-foreground: oklch(0.421 0.095 57.708); /* Brown/olive - text ON primary bg (NOT USED - kept for compatibility) */

  /* ===== SECONDARY COLORS (Purple/Gray) ===== */
  /* Used by: Secondary button */
  --secondary: oklch(0.967 0.001 286.375);      /* Light purple-gray - secondary button bg */
  --secondary-foreground: oklch(0.21 0.006 285.885); /* Dark purple-gray - secondary button text */

  /* ===== MUTED COLORS ===== */
  /* Used by: Ghost button hover, Secondary button hover, Input placeholder text */
  --muted: oklch(0.97 0 0);                /* Very light gray - subtle backgrounds */
  --muted-foreground: oklch(0.556 0 0);    /* Medium gray - placeholder text, less important text */

  /* ===== ACCENT COLORS ===== */
  /* Used by: Outline button hover, Select items on hover/focus, Dropdown items on hover/focus */
  --accent: oklch(0.97 0 0);               /* Very light gray - hover state background */
  --accent-foreground: oklch(0.205 0 0);   /* Very dark gray - text on accent background */

  /* ===== DESTRUCTIVE COLORS (Red) ===== */
  /* Used by: Destructive button, destructive dropdown items, error focus rings */
  --destructive: oklch(0.58 0.22 27);           /* Dark red - destructive button bg */
  --destructive-foreground: oklch(1 0 0);       /* White - text on destructive background */

  /* ===== BORDER & INPUT COLORS ===== */
  /* Used by: All borders, Input backgrounds */
  --border: oklch(0.922 0 0);              /* Light gray - borders on buttons, inputs, cards */
  --input: oklch(0.922 0 0);               /* Light gray - input backgrounds (used at 30% opacity) */

  /* ===== RING COLOR ===== */
  /* UNUSED - kept for shadcn compatibility */
  --ring: oklch(0.708 0 0);                /* Medium gray - NOT USED (we use custom focus-ring-color) */

  /* ===== CHART COLORS ===== */
  /* Used by: Chart components (if you use them) */
  --chart-1: oklch(0.905 0.182 98.111);    /* Lightest yellow - chart color 1 */
  --chart-2: oklch(0.795 0.184 86.047);    /* Light yellow - chart color 2 */
  --chart-3: oklch(0.681 0.162 75.834);    /* Medium yellow - chart color 3 */
  --chart-4: oklch(0.554 0.135 66.442);    /* Darker yellow - chart color 4 */
  --chart-5: oklch(0.476 0.114 61.907);    /* Darkest yellow - chart color 5 */

  /* ===== BORDER RADIUS ===== */
  --radius: 0.625rem;                      /* Base radius - 10px (components use rounded-4xl = radius + 16px) */

  /* ===== SIDEBAR COLORS ===== */
  /* Used by: Sidebar component (if you use it) */
  --sidebar: oklch(0.985 0 0);                        /* Very light gray - sidebar background */
  --sidebar-foreground: oklch(0.145 0 0);             /* Near-black - sidebar text */
  --sidebar-primary: oklch(0.681 0.162 75.834);       /* Medium yellow - active sidebar item */
  --sidebar-primary-foreground: oklch(0.987 0.026 102.212); /* Very light - text on active item */
  --sidebar-accent: oklch(0.97 0 0);                  /* Light gray - sidebar hover state */
  --sidebar-accent-foreground: oklch(0.205 0 0);      /* Dark gray - text on hover */
  --sidebar-border: oklch(0.922 0 0);                 /* Light gray - sidebar borders */
  --sidebar-ring: oklch(0.708 0 0);                   /* Medium gray - sidebar focus ring */

  /* ===== CUSTOM INTERACTIVE COLORS ===== */
  /*
   * Focus ring system
   * Used by: ALL interactive elements on keyboard focus (buttons, inputs, links, etc.)
   * Blue outline (2px) with 2px offset for accessibility.
   * Also used by: Link button text color (text-focus)
   */
  --focus-ring-color: oklch(0.5 0.25 252);  /* Blue - focus outlines & link button text */
  --focus-ring-width: 2px;
  --focus-ring-offset: 2px;

  /*
   * Hover state colors (Custom semantic tokens for darker shades)
   * Used by: Button hover states to create darker versions on interaction
   */
  --primary-hover: oklch(0.82 0.195 91.936);      /* Darker yellow - default button hover */
  --primary-dark: oklch(0.7 0.195 91.936);        /* UNUSED - was for links, now using focus color */
  --secondary-hover: oklch(0.93 0.001 286.375);   /* Darker purple-gray - secondary button hover */
  --destructive-hover: oklch(0.54 0.21 27);       /* Darker red - destructive button hover */
}

/*
 * ============================================================================
 * SEMANTIC COLOR SYSTEM - DARK MODE
 * ============================================================================
 *
 * Same semantic token names, different values for dark backgrounds.
 * Lightness values are inverted: backgrounds are darker, text is lighter.
 *
 */
.dark {
  /* ===== BASE COLORS ===== */
  --background: oklch(0.145 0 0);              /* Very dark gray - main dark background */
  --foreground: oklch(0.985 0 0);              /* Very light - main text on dark bg */

  /* ===== CARD COLORS ===== */
  --card: oklch(0.205 0 0);                    /* Dark gray - card backgrounds */
  --card-foreground: oklch(0.985 0 0);         /* Very light - text on cards */

  /* ===== POPOVER COLORS ===== */
  --popover: oklch(0.205 0 0);                 /* Dark gray - dropdown/popover background */
  --popover-foreground: oklch(0.985 0 0);      /* Very light - text in dropdowns */

  /* ===== PRIMARY COLORS (Yellow) ===== */
  --primary: oklch(0.795 0.184 86.047);             /* Lighter yellow for dark mode */
  --primary-foreground: oklch(0.421 0.095 57.708);  /* Brown/olive - NOT USED */

  /* ===== SECONDARY COLORS (Purple/Gray) ===== */
  --secondary: oklch(0.274 0.006 286.033);     /* Dark purple-gray */
  --secondary-foreground: oklch(0.985 0 0);    /* Very light - secondary button text */

  /* ===== MUTED COLORS ===== */
  /* Used by: Ghost button hover, Secondary button hover, Input placeholder text */
  --muted: oklch(0.269 0 0);                   /* Dark gray - subtle backgrounds */
  --muted-foreground: oklch(0.708 0 0);        /* Light gray - placeholder text */

  /* ===== ACCENT COLORS ===== */
  --accent: oklch(0.371 0 0);                  /* Medium-dark gray - hover backgrounds */
  --accent-foreground: oklch(0.985 0 0);       /* Very light - text on accent */

  /* ===== DESTRUCTIVE COLORS (Red) ===== */
  --destructive: oklch(0.704 0.191 22.216);    /* Brighter red for dark mode */
  --destructive-foreground: oklch(1 0 0);      /* White - text on destructive background */

  /* ===== BORDER & INPUT COLORS ===== */
  --border: oklch(1 0 0 / 10%);                /* White at 10% opacity - subtle borders */
  --input: oklch(1 0 0 / 15%);                 /* White at 15% opacity - input backgrounds */

  /* ===== RING COLOR ===== */
  --ring: oklch(0.556 0 0);                    /* UNUSED - kept for shadcn compatibility */

  /* ===== CHART COLORS ===== */
  /* Same as light mode - chart colors work in both themes */
  --chart-1: oklch(0.905 0.182 98.111);
  --chart-2: oklch(0.795 0.184 86.047);
  --chart-3: oklch(0.681 0.162 75.834);
  --chart-4: oklch(0.554 0.135 66.442);
  --chart-5: oklch(0.476 0.114 61.907);

  /* ===== SIDEBAR COLORS ===== */
  --sidebar: oklch(0.205 0 0);                        /* Dark gray - sidebar background */
  --sidebar-foreground: oklch(0.985 0 0);             /* Very light - sidebar text */
  --sidebar-primary: oklch(0.795 0.184 86.047);       /* Lighter yellow - active item */
  --sidebar-primary-foreground: oklch(0.987 0.026 102.212); /* Very light - text on active */
  --sidebar-accent: oklch(0.269 0 0);                 /* Dark gray - sidebar hover */
  --sidebar-accent-foreground: oklch(0.985 0 0);      /* Very light - text on hover */
  --sidebar-border: oklch(1 0 0 / 10%);               /* White at 10% - sidebar borders */
  --sidebar-ring: oklch(0.556 0 0);                   /* Medium gray - sidebar focus ring */

  /* ===== CUSTOM INTERACTIVE COLORS (Dark Mode) ===== */
  /* Lighter blue for better visibility on dark backgrounds */
  --focus-ring-color: oklch(0.6 0.25 252);       /* Lighter blue - focus outlines & link text */

  /* Hover states adjusted for dark mode */
  --primary-hover: oklch(0.76 0.18 86.047);      /* Slightly darker yellow on hover */
  --primary-dark: oklch(0.72 0.18 86.047);       /* UNUSED - was for links */
  --secondary-hover: oklch(0.32 0.008 286.033);  /* Lighter purple-gray - secondary button hover */
  --destructive-hover: oklch(0.64 0.18 22.216);  /* Slightly darker red on hover */
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/*
 * ============================================================================
 * FOCUS RING SYSTEM
 * ============================================================================
 *
 * Automatically applies blue outline to ALL interactive elements on focus.
 * Error/destructive states get red outline instead.
 *
 * To customize: Change CSS variables in :root above
 * To disable on specific element: Add class "focus-ring-none"
 * Works with any component library (shadcn, Base UI, etc.)
 *
 * ============================================================================
 */
:is(button, input, textarea, select, a):focus-visible,
:is([role="button"], [role="tab"], [role="option"], [role="menuitem"]):focus-visible,
:is([role="checkbox"], [role="radio"], [role="switch"], [role="combobox"]):focus-visible,
:is([tabindex]:not([tabindex="-1"])):focus-visible {
  outline: var(--focus-ring-width) solid var(--focus-ring-color);
  outline-offset: var(--focus-ring-offset);
}

/* Red outline for errors/destructive actions */
:is(button, input, textarea, select)[aria-invalid="true"]:focus-visible,
:is(button, input, textarea, select)[data-invalid]:focus-visible,
button.destructive:focus-visible,
:is(button, [role="button"])[data-variant="destructive"]:focus-visible {
  outline-color: var(--destructive);
}

@layer utilities {
  /* Manual focus ring (rarely needed) */
  .focus-ring:focus-visible {
    outline: var(--focus-ring-width) solid var(--focus-ring-color);
    outline-offset: var(--focus-ring-offset);
  }

  /* Force destructive focus ring */
  .focus-ring-destructive:focus-visible {
    outline: var(--focus-ring-width) solid var(--destructive);
    outline-offset: var(--focus-ring-offset);
  }

  /* Disable focus ring (use sparingly!) */
  .focus-ring-none:focus-visible {
    outline: none !important;
  }
}